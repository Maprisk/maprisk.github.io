<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Random US Dot Map | JS Insights</title>

  <!-- ArcGIS JS SDK -->
  <script src="https://js.arcgis.com/4.34/"></script>

  <style>
    html, body { height: 100%; margin: 0; }
    arcgis-map { width: 100%; height: 100%; display: block; }
  </style>
</head>
<body class="calcite-mode-dark">

  <arcgis-map>
    <arcgis-zoom slot="top-left"></arcgis-zoom>
  </arcgis-map>

  <script type="module">
    const [GraphicsLayer, Graphic, SimpleRenderer, Point] = await $arcgis.import([
      "@arcgis/core/layers/GraphicsLayer.js",
      "@arcgis/core/Graphic.js",
      "@arcgis/core/renderers/SimpleRenderer.js",
      "@arcgis/core/geometry/Point.js"
    ]);

    const viewEl = document.querySelector("arcgis-map");
    await viewEl.viewOnReady();

    // ðŸ”¹ Create a graphics layer for random US dots
    const graphicsLayer = new GraphicsLayer({ title: "Random US Locations" });

    const POINT_COUNT = 2000;
    const colors = [
      [255, 50, 50, 180],
      [50, 255, 50, 180],
      [50, 50, 255, 180],
      [255, 255, 50, 180]
    ];

    for (let i = 0; i < POINT_COUNT; i++) {
      const lon = -125 + Math.random() * 58; // US bounds
      const lat = 25 + Math.random() * 24;

      const graphic = new Graphic({
        geometry: new Point({ longitude: lon, latitude: lat }),
        symbol: {
          type: "simple-marker",
          style: "circle",
          size: 6,
          color: colors[Math.floor(Math.random()*colors.length)]
        }
      });

      graphicsLayer.add(graphic);
    }

    viewEl.map.add(graphicsLayer);
  </script>
</body>
</html>
